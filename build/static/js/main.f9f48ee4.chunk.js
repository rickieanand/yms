(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{118:function(e,t,n){e.exports=n(237)},157:function(e,t){},236:function(e,t,n){},237:function(e,t,n){"use strict";n.r(t);var a,c=n(0),o=n.n(c),r=n(8),l=n.n(r),u=n(65),s=n(3),i=n(116),m=n(19),d=n(92),f=n.n(d),b=n(93),p=n.n(b),E=n(242),h=n(239),j=n(240),g=n(68),O=n(94),v=n.n(O),S=E.a.Header,y=E.a.Footer,k=E.a.Sider,x=E.a.Content,w=function(e,t){e.createCanvas(500,500).parent(t),e.background(0),a.on("mouse",(function(t){e.fill(0,0,255),e.noStroke(),e.ellipse(t.x,t.y,20,20)}))},C=function(e){e.fill(255),e.noStroke(),e.ellipse(e.mouseX,e.mouseY,20,20),I(e.mouseX,e.mouseY)},I=function(e,t){console.log("sendmouse: "+e+" "+t);var n={x:e,y:t};a.emit("mouse",n)},J="https://yahoo-server.herokuapp.com/",X=function(e){var t=e.location,n=Object(c.useState)(""),r=Object(m.a)(n,2),l=(r[0],r[1]),u=Object(c.useState)(""),s=Object(m.a)(u,2),d=(s[0],s[1]),b=Object(c.useState)(""),O=Object(m.a)(b,2),I=O[0],X=O[1],D=Object(c.useState)(),F=Object(m.a)(D,2),z=F[0],H=F[1],M=Object(c.useState)([]),N=Object(m.a)(M,2),Y=N[0],_=N[1],q=Object(c.useState)("canvas"),B=Object(m.a)(q,2),K=B[0],L=B[1];Object(c.useEffect)((function(){var e=f.a.parse(t.search),n=e.name,c=e.room;return a=p()(J),d(c),l(n),console.log("before Joined"),a.emit("join",{name:n,room:c},(function(e){alert("Joined",e)})),function(){a.emit("disconnect"),a.off()}}),[J,t.search]),Object(c.useEffect)((function(){a.on("message",(function(e){_([].concat(Object(i.a)(Y),[e]))})),a.on("roomData",(function(e){var t=e.users;X(t)}))}),[Y]);var P=function(e){console.log("sendMessage"),e.preventDefault(),z&&a.emit("sendMessage",z,(function(){return H("")}))};return o.a.createElement(E.a,null,o.a.createElement(S,null,o.a.createElement("span",{style:{border:"1px solid white",color:"#ccc",padding:"24px"},className:"view",onClick:function(){L("chatroom")}},"Chatroom"),o.a.createElement("span",{style:{border:"1px solid white",color:"#ccc",padding:"24px"},className:"view",onClick:function(){L("blackboard")}},"Black board")),o.a.createElement(E.a,null,o.a.createElement(x,null,"chatroom"===K?o.a.createElement(h.b,{style:{height:"500px",overflowX:"scroll"},size:"large",header:o.a.createElement("div",null,"Header"),footer:o.a.createElement("div",null,"Footer"),bordered:!0,dataSource:Y,renderItem:function(e){return o.a.createElement(h.b.Item,null,"".concat(e.user,": ").concat(e.text))}}):o.a.createElement(v.a,{setup:w,mouseDragged:C})),o.a.createElement(k,null,o.a.createElement(h.b,{style:{height:"500px",overflowX:"scroll"},size:"large",bordered:!0,dataSource:I,renderItem:function(e){return o.a.createElement(h.b.Item,null,"".concat(e.name))}}))),o.a.createElement(y,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(j.a,{style:{width:"100%",padding:"24px"},type:"text",onChange:function(e){return H(e.target.value)},placeholder:"Type your message",onKeyPress:function(e){return"Enter"===e.key?P(e):null},value:z}),o.a.createElement(g.a,{onClick:function(e){return P(e)}},"Send"))))},D=n(111),F=n.n(D),z=function(){var e=Object(c.useState)(""),t=Object(m.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),l=Object(m.a)(r,2),u=l[0],i=l[1],d=Object(c.useState)(!1),f=Object(m.a)(d,2),b=f[0],p=f[1],E="chat?name=".concat(n,"&room=").concat(u);return o.a.createElement("div",null,o.a.createElement("h1",null,"Join"),b&&n&&u?o.a.createElement(s.a,{to:E}):o.a.createElement(F.a,{appId:"2417264378305959",autoLoad:!1,fields:"name,email,picture",callback:function(e){console.log(e),p(!0),a(e.name),i("101")},scope:"public_profile,user_friends"}))},H=(n(235),n(236),function(){return o.a.createElement(u.a,null,o.a.createElement(s.b,{path:"/",exact:!0,component:z}),o.a.createElement(s.b,{path:"/chat",component:X}))});l.a.render(o.a.createElement(H,null),document.querySelector("#root"))}},[[118,1,2]]]);
//# sourceMappingURL=main.f9f48ee4.chunk.js.map